<template>
  <div>
    <Navbar />
    <SecondNavbar />

    <!-- Main container -->
    <div class="max-w-5xl mx-auto p-6 pt-5">
      <!-- üî≤ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á -->
      <div class="bg-white border border-gray-300 rounded-xl shadow-sm p-10 space-y-9">
        <h1 class="text-center text-3xl">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ</h1>
        <div class="max-w-4xl mx-auto p-6 pt-8 mt-10">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-20 gap-y-4">
            <div class="flex flex-col gap-1.5">
              <span>‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤ *</span>
              <InputText v-model="formData.name" /><span
                v-if="errors.name"
                class="text-red-600 text-xs -mt-2 -mb-6"
                >{{ errors.name }}</span
              >
            </div>

            <div class="flex flex-col gap-1.5">
              <span>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ *</span>
              <InputText v-model="formData.phone" /><span
                v-if="errors.phone"
                class="text-red-600 text-xs -mt-2 -mb-6"
                >{{ errors.phone }}</span
              >
            </div>

            <div class="flex flex-col gap-1.5">
              <span>‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î *</span>
              <Selects
                type="text"
                v-model="formData.department"
                :options="['‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà 1', '‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà 2', '‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà 3', '‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà 4']"
                placeholder=""
                value-type="string"
              /><span v-if="errors.department" class="text-red-600 text-xs -mb-6">{{errors.department}}</span>
            </div>

            <div class="flex flex-col gap-1.5">
              <span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô *</span>
              <InputText v-model="formData.fund" /><span
                v-if="errors.fund"
                class="text-red-600 text-xs -mt-2 -mb-[14px]"
                >{{ errors.fund }}</span
              >
            </div>
          </div>

          <!-- ==========================
             2) ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡πâ‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ
        ============================ -->
          <div class="space-y-4 mt-5">
            <span class="font-medium text-lg ">‡∏•‡πâ‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ</span>

            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
<div class="grid grid-cols-1 gap-1 justify-items-center">
  <InputText v-model="formData.moneyType" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£" />
  <span v-if="errors.moneyType" class="text-red-600 text-xs ">
    {{ errors.moneyType }}
  </span>
</div>

<div class="grid grid-cols-1 gap-1 justify-items-center">
  <InputText v-model="formData.projectCode" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á" />
  <span v-if="errors.projectCode" class="text-red-600 text-xs">
    {{ errors.projectCode }}
  </span>
</div>

<div class="grid grid-cols-1 gap-1 justify-items-center">
  <InputText v-model="formData.amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô" />
  <span v-if="errors.amount" class="text-red-600 text-xs">
    {{ errors.amount }}
  </span>
</div>

<div class="grid grid-cols-1 gap-1 justify-items-center">
  <InputText v-model="formData.note" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏" />
  <span v-if="errors.note" class="text-red-600 text-xs justify-center">
    {{ errors.note }}
  </span>
</div>
            </div>
          </div>

          <!-- ==========================
             3) checkbox ‡∏ï‡πà‡∏≤‡∏á ‡πÜ
        ============================ -->
          <div>
            <div class="mt-10">
            <div>
              <input type="checkbox" v-model="check3" class="mt-3" />
              ‡∏ô‡∏≥‡∏ù‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
            </div>
          </div>
          </div>

          <div class="flex justify-end gap-3 pt-4">
            <button
              class="px-4 py-2 rounded-md bg-gray-300 text-gray-700 hover:bg-gray-400"
              @click="saveData"
            >
              ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
            </button>
            <button
              class="px-6 py-2 rounded-md bg-gray-600 text-white hover:bg-gray-700"
              @click="gotomainpage"
            >
              ‡∏Å‡∏•‡∏±‡∏ö
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import Navbar from '@/components/bar/navbar.vue'
import SecondNavbar from '@/components/bar/secoudnavbar.vue'
import Selects from '@/components/input/select.vue'
import router from '@/router'
import InputText from '@/components/input/inputtext.vue'
import { ref } from 'vue'
const gotomainpage = () => {
  router.push('/')
}

const formData = ref({
  name: '',
  phone: '',
  department: '',
  fund: '',
  moneyType: '',
  projectCode: '',
  amount: '',
  note: '',
})


const check3 = ref(false)

const errors = ref({})

const saveData = () => {
  errors.value = {} // reset

  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏µ‡∏•‡∏∞‡∏ü‡∏¥‡∏•‡∏î‡πå
  if (!formData.value.name) {
    errors.value.name = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å "‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤"'
    return
  }
  if (!formData.value.phone) {
    errors.value.phone = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠"'
    return
  }
  if (!formData.value.department) {
    errors.value.department = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î"'
    return
  }
  if (!formData.value.fund) {
    errors.value.fund = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô"'
    return
  }
  if (!formData.value.moneyType) {
    errors.value.moneyType = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£'
    return
  }
  if (!formData.value.projectCode) {
    errors.value.projectCode = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å "‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á"'
    return
  }
  if (!formData.value.amount) {
    errors.value.amount = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô"'
    return
  }
  if (!formData.value.note) {
    errors.value.note = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"'
    return
  }

  // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ error ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
  const dataToSave = {
    formData: formData.value,
  }

  console.log('=== ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ===')
  console.log(JSON.stringify(dataToSave, null, 2))

  alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Console')
}
</script>
